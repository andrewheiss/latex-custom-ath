%%% Some article styles and page layout tweaks for the memoir class
%%% Choose these as article or pagestyles for your memoir document. 
%%% Kieran Healy


%%% --------------------------------------------------
%%% Some useful bits and pieces
%%% --------------------------------------------------
%% Blank footnote command.
% Use \symbolfootnote[0]{Footnote text} for a blank footnote. 
% Useful for an initial acknowledgment note.
\long\def\symbolfootnote[#1]#2{\begingroup%
\def\thefootnote{\fnsymbol{footnote}}\footnote[#1]{#2}\endgroup}

%% Redefine \and and \andnext to remove tabular environment.
%% Needed below for custom article-styles when multiple authors are present. 
\renewcommand{\and}{\, }
\renewcommand*{\andnext}{%
  \\\medskip }

%%% --------------------------------------------------
%%% Style: memo-comments
%%% For short notes.
%%% --------------------------------------------------


%-----------------------------------------------------------------------
% See this: 
% http://www.ctan.org/tex-archive/info/latex-samples/MemoirChapStyles/
%-----------------------------------------------------------------------

% Make the style for Chapters and sections
   \makechapterstyle{hikma-memo-numbered}{
     \renewcommand\tocheadstart{}
    \renewcommand\printtoctitle[1]{}
     \renewcommand\thesection{\arabic{section}} 
     \setsecheadstyle{\Large\sffamily} 
     \setsubsecheadstyle{\large\sffamily} 
     \setsubsubsecheadstyle{\normalsize\sffamily\itshape} 
    \renewcommand{\printchaptername}{} 
    \renewcommand{\chapternamenum}{} 
    \renewcommand{\chapnumfont}{\chaptitlefont} 
    \renewcommand{\printchapternum}{\chapnumfont \thechapter\space} 
    \renewcommand{\afterchapternum}{} 
    \renewcommand{\printchaptername}{\secheadstyle}
    \renewcommand{\cftchapterfont}{\normalfont} 
    \renewcommand{\cftchapterpagefont}{\normalfont\sffamily} 
    \renewcommand{\cftchapterpresnum}{\sffamily} 
    %\renewcommand{\cftchapterleader}{} 
    %\renewcommand{\cftchapterafterpnum}{\cftparfillskip}
    \captiontitlefont{\small}
    \settocdepth{subsubsection}
    \maxsecnumdepth{subsubsection} 
    \setsecnumdepth{subsubsection}

    % reduce skip after section heading
    \setaftersecskip{1.7ex}
    
    % Title 
    \pretitle{\begin{flushleft}\LARGE\sffamily\bfseries}
    \posttitle{\end{flushleft}\par\vskip 0.5em}
    \preauthor{\begin{flushleft}\Large\sffamily}
    \postauthor{\end{flushleft}}
    \predate{\begin{flushleft}\sffamily\footnotesize\vspace{0.9em}}
    \postdate{\end{flushleft}\par\vskip 2em}
   }

% Make the style for Chapters and sections
    \makechapterstyle{hikma-memo}{
    \setsubsecheadstyle{\large\sffamily} 
    \setsubsubsecheadstyle{\normalsize\sffamily\itshape} 
    \renewcommand{\printchaptername}{} 
    \renewcommand{\chapternamenum}{} 
    \renewcommand{\chapnumfont}{\chaptitlefont} 
    \renewcommand{\printchapternum}{\chapnumfont \thechapter\space} 
    \renewcommand{\afterchapternum}{} 
    \renewcommand{\printchaptername}{\secheadstyle}
    \renewcommand{\cftchapterfont}{\normalfont} 
    \renewcommand{\cftchapterpagefont}{\normalfont\sffamily} 
    \renewcommand{\cftchapterpresnum}{\sffamily} 
    %\renewcommand{\cftchapterleader}{} 
    %\renewcommand{\cftchapterafterpnum}{\cftparfillskip}
    \captiontitlefont{\small}
    \settocdepth{subsubsection}
    \maxsecnumdepth{subsubsection} 
    \setsecnumdepth{subsubsection}

    % reduce skip after section heading
    \setaftersecskip{1.7ex}

    % Title 
    \pretitle{\begin{flushleft}\LARGE\sffamily\bfseries}
    \posttitle{\end{flushleft}\par\vskip 0.5em}
    \preauthor{\begin{flushleft}\Large\sffamily}
    \postauthor{\end{flushleft}}
    \predate{\begin{flushleft}\sffamily\footnotesize\vspace{0.9em}}
    \postdate{\end{flushleft}\par\vskip 2em}
}


%%% --------------------------------------------------
%%% article-4-sans (AJS, but sans-serif headings) 
%%% --------------------------------------------------

%% Make the style for Chapters and sections
\makechapterstyle{hikma-article}{
    \setsecheadstyle{\sffamily\bfseries} 
    \setsubsecheadstyle{\normalsize\sffamily\itshape} 
    \setaftersubsubsecskip{-1em}
    \setsubsubsecheadstyle{\small}
    \renewcommand{\printchaptername}{} 
    \renewcommand{\chapternamenum}{} 
    \renewcommand{\chapnumfont}{\chaptitlefont} 
    \renewcommand{\printchapternum}{\chapnumfont \thechapter\space} 
    \renewcommand{\afterchapternum}{} 
    \renewcommand{\printchaptername}{\secheadstyle}
    \renewcommand{\cftchapterfont}{\normalfont} 
    \renewcommand{\cftchapterpagefont}{\normalfont\sffamily} 
    \renewcommand{\cftchapterpresnum}{\sffamily} 
    %\renewcommand{\cftchapterleader}{} 
    %\renewcommand{\cftchapterafterpnum}{\cftparfillskip}
    \captiontitlefont{\small}
    %\settocdepth{chapter}
    \maxsecnumdepth{chapter} 
    \setsecnumdepth{chapter}

    %% reduce skip after section heading
    \setaftersecskip{1.7ex}

    %% set name of bibliography to 'references'
    %%\renewcommand{\bibname}{\mdseries\Large\sffamily References}

    % Title flush left
    \pretitle{\par\vskip 3em 
    \begin{flushleft}\LARGE\sffamily\bfseries}
    \posttitle{\end{flushleft}\par\vskip 0.5em}
    \preauthor{\begin{flushleft}\Large}
    \postauthor{\end{flushleft}}
    \predate{\begin{flushleft}\normalsize}
    \postdate{\end{flushleft}}

    %% 'abstract' bigger skip from title
    \renewcommand{\abstractname}{\vspace{-\baselineskip}}
    % \addto\captionsamerican{\renewcommand*{\abstractname}{}}
    % \renewcommand{\abstractnamefont}{\normalfont\scriptsize}
    % \renewcommand{\abstracttextfont}{\normalfont\scriptsize}
    % \abstractrunin
}


%%% -------------------------------------------------- 
%%% Custom styles for headers and footers The chapterstyles above
%%% style sections/subsections and titles, etc. These pagestyles
%%% control the running headers and footers. So far there's just one.
%%% --------------------------------------------------
   
%%%
%%% Basic 
%%%
\makepagestyle{ath}
%\makeevenfoot{ath}{\thepage}{}{}
%\makeoddfoot{ath}{}{}{\thepage}
%\makeheadrule{ath}{\textwidth}{\normalrulethickness}
\newcommand{\@athmarks}{%
  \let\@mkboth\markboth
  \def\chaptermark##1{%
    \markboth{%
      \ifnum \c@secnumdepth >\m@ne
        \if@mainmatter
          \thechapter. \ %
        \fi
      \fi
      ##1}{}}
  \def\sectionmark##1{%
    \markright{##1}}
}
\makepsmarks{ath}{\@athmarks}
\makepsmarks{ath}{}
\makeevenhead{ath}{}{}{\scshape\thepage}
\makeoddhead{ath}{}{}{\scshape\thepage}


  
%%%
%%% RCS in footer 
%%%

% Make the style for RCS revision control headers and footers
\makepagestyle{athrcs}
% \makeheadrule{athrcs}{\textwidth}{\normalrulethickness}
\newcommand{\@athrcsmarks}{%
  \let\@mkboth\markboth
  \def\chaptermark##1{%
    \markboth{%
      \ifnum \c@secnumdepth >\m@ne
        \if@mainmatter
          \thechapter. \ %
        \fi
      \fi
      ##1}{}}
  \def\sectionmark##1{%
    \markright{##1}}
}
\makepsmarks{athrcs}{\@athrcsmarks}
%\makeevenhead{athrcs}{\footnotesize\scshape\leftmark}{}{\scshape\thepage}
%\makeoddhead{athrcs}{}{}{\footnotesize\rightmark\normalsize\ \ \scshape\thepage}
\makeevenfoot{athrcs}{\texttt{\footnotesize\rcsInfoFile}}{\scshape\thepage}{\footnotesize \emph{Rev} \texttt{\rcsInfoRevision \  \rcsInfoDate}}
\makeoddfoot{athrcs}{\texttt{\footnotesize\rcsInfoFile}}{\scshape\thepage}{\footnotesize \emph{Rev} \texttt{\rcsInfoRevision \ \rcsInfoDate}}



%%%
%%% Mercurial rev info in footers 
%%%

% Make the style for hg revision control headers and footers
\makepagestyle{athhg}
% \makeheadrule{athhg}{\textwidth}{\normalrulethickness}
\newcommand{\@athhgmarks}{%
  \let\@mkboth\markboth
  \def\chaptermark##1{%
    \markboth{%
      \ifnum \c@secnumdepth >\m@ne
        \if@mainmatter
          \thechapter. \ %
        \fi
      \fi
      ##1}{}}
  \def\sectionmark##1{%
    \markright{##1}}
}
\makepsmarks{athhg}{\@athhgmarks}
%\makeevenhead{athhg}{\footnotesize\scshape\leftmark}{}{\scshape\thepage}
%\makeoddhead{athhg}{}{}{\footnotesize\rightmark\normalsize\ \ \scshape\thepage}
\makeevenfoot{athhg}{\texttt{\footnotesize \hgkw{Filename}}}{\scshape\thepage}{\texttt{\footnotesize Rev \hgkw{LastChangedRevision} on \hgfilemonth\ \hgfileday, \hgfileyear}}
\makeoddfoot{athhg}{\texttt{\footnotesize \hgkw{Filename}}}{\scshape\thepage}{\texttt{\footnotesize Rev \hgkw{LastChangedRevision} on \hgfilemonth\ \hgfileday, \hgfileyear}}



%%%
%%% Git info in footers; requires vc package 
%%%

% Make the style for vc-git revision control headers and footers
\makepagestyle{athgit}
% \makeheadrule{athgit}{\textwidth}{\normalrulethickness}
\newcommand{\@athgitmarks}{%
  \let\@mkboth\markboth
  \def\chaptermark##1{%
    \markboth{%
      \ifnum \c@secnumdepth >\m@ne
        \if@mainmatter
          \thechapter. \ %
        \fi
      \fi
      ##1}{}}
  \def\sectionmark##1{%
    \markright{##1}}
}
\makepsmarks{athgit}{\@athgitmarks}
%\makeevenhead{athgit}{\footnotesize\scshape\leftmark}{}{\scshape\thepage}
%\makeoddhead{athgit}{}{}{\footnotesize\rightmark\normalsize\ \ \scshape\thepage}
\makeevenfoot{athgit}{}{\scshape\thepage}{\texttt{\footnotesize \VCRevision\ on \VCDateTEX}}
\makeoddfoot{athgit}{}{\scshape\thepage}{\texttt{\footnotesize \VCRevision\ on \VCDateTEX}}            

%%% 
%%% Custom appendix 
%%%

% % Make the style for headers and footers in the Appendix
% \makepagestyle{athappendix}
% %\makeevenfoot{ath}{\thepage}{}{}
% %\makeoddfoot{ath}{}{}{\thepage}
% \makeheadrule{athapp}{\textwidth}{\normalrulethickness}
% \newcommand{\@athappmarks}{%
%   \let\@mkboth\markboth
%   \def\chaptermark##1{%
%     \markboth{%
%       \ifnum \c@secnumdepth >\m@ne
%         \if@mainmatter
%           \thechapter. \ %
%         \fi
%       \fi
%       ##1}{}}
%   \def\sectionmark##1{%
%     \markright{##1}}
% }
% \makepsmarks{athappendix}{\@athappmarks}
% \makeevenhead{athappendix}{\footnotesize\scshape Appendix}{}{\scshape\thepage}
% \makeoddhead{athappendix}{}{}{\footnotesize Data and Methods for \rightmark\normalsize\ \ \scshape\thepage}

%% Create a command to make a note at the top of the first page describing the
%% publication status of the paper. 
\newcommand{\published}[1]{% 
   \gdef\puB{#1}} 
   \newcommand{\puB}{} 
   \renewcommand{\maketitlehooka}{% 
       \par\noindent\footnotesize \puB} 

\endinput

